{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Documents/openbush/openbush_frontend/src/Dapp/Main.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$();\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport './Main.scss';\nimport { Layout } from 'antd';\nimport Login_Menu from './components/Login_Menu';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Content,\n  Footer\n} = Layout;\nconst {\n  useState,\n  useRef,\n  useEffect,\n  useLayoutEffect,\n  createContext\n} = React;\n/**\r\n * Globals\r\n */\n\nconst CONSTANTS = {\n  assetPath: \"https://s3-us-west-2.amazonaws.com/s.cdpn.io/184729\"\n};\nconst ASSETS = {\n  head: `${CONSTANTS.assetPath}/head.svg`,\n  waiting: `${CONSTANTS.assetPath}/hand.svg`,\n  stalking: `${CONSTANTS.assetPath}/hand-waiting.svg`,\n  grabbing: `${CONSTANTS.assetPath}/hand.svg`,\n  grabbed: `${CONSTANTS.assetPath}/hand-with-cursor.svg`,\n  shaka: `${CONSTANTS.assetPath}/hand-surfs-up.svg`\n}; // Preload images\n\nObject.keys(ASSETS).forEach(key => {\n  const img = new Image();\n  img.src = ASSETS[key];\n});\n/**\r\n * Shared hooks\r\n */\n// Hover state - https://dev.to/spaciecat/hover-states-with-react-hooks-4023\n\nconst useHover = () => {\n  _s();\n\n  const ref = useRef();\n  const [hovered, setHovered] = useState(false);\n\n  const enter = () => setHovered(true);\n\n  const leave = () => setHovered(false);\n\n  useEffect(() => {\n    ref.current.addEventListener(\"mouseenter\", enter);\n    ref.current.addEventListener(\"mouseleave\", leave);\n    return () => {\n      ref.current.removeEventListener(\"mouseenter\", enter);\n      ref.current.removeEventListener(\"mouseleave\", leave);\n    };\n  }, [ref]);\n  return [ref, hovered];\n}; // Mouse position\n\n\n_s(useHover, \"ReHcFtoH3ikruJThqJ/+0+J0Koc=\");\n\nconst useMousePosition = () => {\n  _s2();\n\n  const [position, setPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  useEffect(() => {\n    const setFromEvent = e => setPosition({\n      x: e.clientX,\n      y: e.clientY\n    });\n\n    window.addEventListener(\"mousemove\", setFromEvent);\n    return () => {\n      window.removeEventListener(\"mousemove\", setFromEvent);\n    };\n  }, []);\n  return position;\n}; // Element position\n\n\n_s2(useMousePosition, \"jv34aNIyPo+g3wMR9igNqlVW3h8=\");\n\nconst usePosition = () => {\n  _s3();\n\n  const ref = useRef();\n  const [position, setPosition] = useState({});\n\n  const handleResize = () => {\n    setPosition(ref.current.getBoundingClientRect());\n  };\n\n  useLayoutEffect(() => {\n    handleResize();\n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [ref.current]);\n  return [ref, position];\n};\n/**\r\n * React Components\r\n */\n// export default class Main extends React.Component{\n//     constructor(props){\n//         super(props);\n//     }\n//     render(){\n//         return (\n//             <Layout className=\"layout\">\n//                 <Content style={{ padding: '0 50px' }}>\n//                   <div className=\"site-layout-content\">Content</div>\n//                 </Content>\n//             </Layout>\n//         );\n//     }\n// }\n\n\n_s3(usePosition, \"B8nDycpB8K7/vTxelP3cDZEI/wU=\");\n\nexport default class Main extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      debug: false,\n      cursorGrabbed: false,\n      gameOver: false\n    };\n    this.handleToggleDebug = this.handleToggleDebug.bind(this);\n    this.handleButtonClicked = this.handleButtonClicked.bind(this);\n    this.handleCursorGrabbed = this.handleCursorGrabbed.bind(this);\n  }\n\n  handleToggleDebug() {\n    this.setState({\n      debug: !this.state.debug\n    });\n  }\n\n  handleCursorGrabbed() {\n    this.setState({\n      cursorGrabbed: true\n    });\n    setTimeout(() => {\n      this.setState({\n        cursorGrabbed: false\n      });\n    }, 2000);\n  }\n\n  handleButtonClicked() {\n    this.setState({\n      gameOver: true\n    });\n    setTimeout(() => {\n      this.setState({\n        gameOver: false\n      });\n    }, 4000);\n  }\n\n  render() {\n    const {\n      cursorGrabbed,\n      gameOver,\n      debug\n    } = this.state;\n    const screenStyle = cursorGrabbed ? {\n      cursor: \"none\"\n    } : {};\n    const appClass = debug ? \"app app--debug\" : \"app\";\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: appClass,\n      style: screenStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Hello!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Welcome to the internet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"This is a classic website, no traps or weird stuff!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Feel free to browse, relax and, I don't know, click the button down there? Might as well, right?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"debug-button\",\n          onClick: this.handleToggleDebug,\n          children: \"Debug\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"trap-button\",\n        onClick: this.handleButtonClicked,\n        children: [gameOver && \"Nice one\", cursorGrabbed && \"Gotcha!\", !gameOver && !cursorGrabbed && \"Button!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grab-zone-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(GrabZone, {\n          onCursorGrabbed: this.handleCursorGrabbed,\n          cursorGrabbed: cursorGrabbed,\n          gameOver: gameOver\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this);\n  }\n\n} // GrabZone (The hover trigger zone)\n\nconst GrabZone = _ref => {\n  _s4();\n\n  let {\n    cursorGrabbed,\n    gameOver,\n    onCursorGrabbed\n  } = _ref;\n  const [outerRef, outerHovered] = useHover();\n  const [innerRef, innerHovered] = useHover();\n  const [isExtended, setExtendedArm] = useState(false);\n  let state = \"waiting\";\n\n  if (outerHovered) {\n    state = \"stalking\";\n  }\n\n  if (innerHovered) {\n    state = \"grabbing\";\n  }\n\n  if (cursorGrabbed) {\n    state = \"grabbed\";\n  }\n\n  if (gameOver) {\n    state = \"shaka\";\n  } // If state is grabbing for a long time, they're being clever!\n\n\n  useEffect(() => {\n    let timer;\n\n    if (state === \"grabbing\") {\n      timer = setTimeout(() => {\n        // Not so clever now, are they?\n        setExtendedArm(true);\n        timer = null;\n      }, 2000);\n    }\n\n    return () => {\n      setExtendedArm(false);\n\n      if (timer) {\n        clearTimeout(timer);\n      }\n    };\n  }, [state]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grab-zone\",\n    ref: outerRef,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grab-zone__debug\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Debug info:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Current state: \", state]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Extended arm: \", isExtended ? \"Yes\" : \"No\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grab-zone__danger\",\n      ref: innerRef,\n      children: /*#__PURE__*/_jsxDEV(Grabber, {\n        state: state,\n        gameOver: gameOver,\n        extended: isExtended,\n        onCursorGrabbed: onCursorGrabbed\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 245,\n    columnNumber: 5\n  }, this);\n}; // Grabber (The graphic)\n\n\n_s4(GrabZone, \"EqZzDJ5k2TJOccST0eIkfvHgMIM=\", false, function () {\n  return [useHover, useHover];\n});\n\n_c = GrabZone;\n\nconst Grabber = _ref2 => {\n  _s5();\n\n  let {\n    state,\n    gameOver,\n    extended,\n    onCursorGrabbed\n  } = _ref2;\n  const mousePos = useMousePosition();\n  const [ref, position] = usePosition();\n  const hasCursor = false; // Calculate rotation of armWrapper\n\n  const x = position.left + position.width * 0.5;\n  const y = position.top + position.height * 0.5;\n  const angle = gameOver ? 0 : Math.atan2(mousePos.x - x, -(mousePos.y - y)) * (180 / Math.PI); // Ensure value is within acceptable range (-75 to 75)\n\n  const rotation = Math.min(Math.max(parseInt(angle), -79), 79);\n  const grabberClass = `grabber grabber--${state} ${extended && \"grabber--extended\"}`;\n  const wrapperStyle = {\n    transform: `rotate(${rotation}deg)`\n  };\n  let handImageSrc = ASSETS[state];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: grabberClass,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grabber__body\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"grabber__face\",\n      src: ASSETS.head\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grabber__arm-wrapper\",\n      ref: ref,\n      style: wrapperStyle,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grabber__arm\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"grabber__hand\",\n          src: handImageSrc,\n          onMouseEnter: onCursorGrabbed\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 283,\n    columnNumber: 5\n  }, this);\n}; // Render Main\n\n\n_s5(Grabber, \"d2RWsF4tz5/Ooi0fuDtqNlS5/dk=\", false, function () {\n  return [useMousePosition, usePosition];\n});\n\n_c2 = Grabber;\nReactDOM.render( /*#__PURE__*/_jsxDEV(Main, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 301,\n  columnNumber: 5\n}, this), document.getElementById('root'));\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"GrabZone\");\n$RefreshReg$(_c2, \"Grabber\");","map":{"version":3,"sources":["/Users/apple/Documents/openbush/openbush_frontend/src/Dapp/Main.js"],"names":["React","ReactDOM","Layout","Login_Menu","Content","Footer","useState","useRef","useEffect","useLayoutEffect","createContext","CONSTANTS","assetPath","ASSETS","head","waiting","stalking","grabbing","grabbed","shaka","Object","keys","forEach","key","img","Image","src","useHover","ref","hovered","setHovered","enter","leave","current","addEventListener","removeEventListener","useMousePosition","position","setPosition","x","y","setFromEvent","e","clientX","clientY","window","usePosition","handleResize","getBoundingClientRect","Main","Component","constructor","props","state","debug","cursorGrabbed","gameOver","handleToggleDebug","bind","handleButtonClicked","handleCursorGrabbed","setState","setTimeout","render","screenStyle","cursor","appClass","GrabZone","onCursorGrabbed","outerRef","outerHovered","innerRef","innerHovered","isExtended","setExtendedArm","timer","clearTimeout","Grabber","extended","mousePos","hasCursor","left","width","top","height","angle","Math","atan2","PI","rotation","min","max","parseInt","grabberClass","wrapperStyle","transform","handImageSrc","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'antd/dist/antd.css';\r\nimport './Main.scss';\r\nimport { Layout } from 'antd';\r\nimport Login_Menu from './components/Login_Menu';\r\nconst { Content, Footer } = Layout;\r\nconst { useState, useRef, useEffect, useLayoutEffect, createContext } = React;\r\n/**\r\n * Globals\r\n */\r\n\r\n const CONSTANTS = {\r\n    assetPath: \"https://s3-us-west-2.amazonaws.com/s.cdpn.io/184729\",\r\n  }\r\n  \r\n  const ASSETS = {\r\n    head: `${CONSTANTS.assetPath}/head.svg`,\r\n    waiting: `${CONSTANTS.assetPath}/hand.svg`,\r\n    stalking: `${CONSTANTS.assetPath}/hand-waiting.svg`,\r\n    grabbing: `${CONSTANTS.assetPath}/hand.svg`,\r\n    grabbed: `${CONSTANTS.assetPath}/hand-with-cursor.svg`,\r\n    shaka: `${CONSTANTS.assetPath}/hand-surfs-up.svg`\r\n  }\r\n  \r\n  // Preload images\r\n  Object.keys(ASSETS).forEach(key => {\r\n    const img = new Image();\r\n    img.src = ASSETS[key];\r\n  });\r\n  \r\n  \r\n  /**\r\n   * Shared hooks\r\n   */\r\n  \r\n  // Hover state - https://dev.to/spaciecat/hover-states-with-react-hooks-4023\r\n  const useHover = () => {\r\n    const ref = useRef();\r\n    const [hovered, setHovered] = useState(false);\r\n  \r\n    const enter = () => setHovered(true);\r\n    const leave = () => setHovered(false);\r\n  \r\n    useEffect(\r\n      () => {\r\n        ref.current.addEventListener(\"mouseenter\", enter);\r\n        ref.current.addEventListener(\"mouseleave\", leave);\r\n        return () => {\r\n          ref.current.removeEventListener(\"mouseenter\", enter);\r\n          ref.current.removeEventListener(\"mouseleave\", leave);\r\n        };\r\n      },\r\n      [ref]\r\n    );\r\n  \r\n    return [ref, hovered];\r\n  };\r\n  \r\n  // Mouse position\r\n  const useMousePosition = () => {\r\n    const [position, setPosition] = useState({ x: 0, y: 0 });\r\n  \r\n    useEffect(() => {\r\n      const setFromEvent = e => setPosition({ x: e.clientX, y: e.clientY });\r\n      window.addEventListener(\"mousemove\", setFromEvent);\r\n  \r\n      return () => {\r\n        window.removeEventListener(\"mousemove\", setFromEvent);\r\n      };\r\n    }, []);\r\n  \r\n    return position;\r\n  };\r\n  \r\n  // Element position\r\n  const usePosition = () => {\r\n    const ref = useRef();\r\n    const [position, setPosition] = useState({});\r\n  \r\n    const handleResize = () => {\r\n      setPosition(ref.current.getBoundingClientRect());\r\n    };\r\n  \r\n    useLayoutEffect(() => {\r\n      handleResize();\r\n      window.addEventListener('resize', handleResize);\r\n  \r\n      return () => {\r\n        window.removeEventListener('resize', handleResize);\r\n      };\r\n    }, [ref.current]);\r\n  \r\n    return [ref, position];\r\n  };\r\n  \r\n  \r\n  /**\r\n   * React Components\r\n   */\r\n// export default class Main extends React.Component{\r\n//     constructor(props){\r\n//         super(props);\r\n//     }\r\n\r\n//     render(){\r\n//         return (\r\n//             <Layout className=\"layout\">\r\n                \r\n//                 <Content style={{ padding: '0 50px' }}>\r\n//                   <div className=\"site-layout-content\">Content</div>\r\n//                 </Content>\r\n                \r\n//             </Layout>\r\n//         );\r\n//     }\r\n// }\r\n\r\nexport default class Main extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      debug: false,\r\n      cursorGrabbed: false,\r\n      gameOver: false,\r\n    };\r\n    \r\n    this.handleToggleDebug = this.handleToggleDebug.bind(this);\r\n    this.handleButtonClicked = this.handleButtonClicked.bind(this);\r\n    this.handleCursorGrabbed = this.handleCursorGrabbed.bind(this);\r\n  }\r\n  \r\n  handleToggleDebug() {\r\n    this.setState({\r\n      debug: !this.state.debug\r\n    });\r\n  }\r\n  \r\n  handleCursorGrabbed() {\r\n    this.setState({\r\n      cursorGrabbed: true\r\n    });\r\n    setTimeout(() => {\r\n      this.setState({\r\n        cursorGrabbed: false\r\n      });\r\n    }, 2000)\r\n  }\r\n\r\n    \r\n  handleButtonClicked() {\r\n    this.setState({\r\n      gameOver: true\r\n    });\r\n    setTimeout(() => {\r\n      this.setState({\r\n        gameOver: false\r\n      });\r\n    }, 4000)\r\n  }\r\n\r\n  render() {\r\n    const { cursorGrabbed, gameOver, debug } = this.state;\r\n    const screenStyle = cursorGrabbed ? { cursor: \"none\" } : {};\r\n    const appClass = debug ? \"app app--debug\" : \"app\";\r\n    \r\n    return (\r\n      <div className={appClass} style={screenStyle}>\r\n        \r\n        <section className=\"container\">\r\n          <h1>Hello!</h1>\r\n          <h2>Welcome to the internet.</h2>\r\n          <p>This is a classic website, no traps or weird stuff!</p>\r\n          <p>Feel free to browse, relax and, I don't know, click the button down there? Might as well, right?</p>\r\n          \r\n          <button\r\n            className=\"debug-button\"\r\n            onClick={this.handleToggleDebug}>\r\n              Debug\r\n          </button>\r\n        </section>\r\n        \r\n        <button\r\n          className=\"trap-button\"\r\n          onClick={this.handleButtonClicked}>\r\n            { gameOver && \"Nice one\" }\r\n            { cursorGrabbed && \"Gotcha!\" }\r\n            { !gameOver && !cursorGrabbed && \"Button!\"}\r\n        </button>\r\n        \r\n        <div className=\"grab-zone-wrapper\">\r\n          <GrabZone\r\n            onCursorGrabbed={this.handleCursorGrabbed} \r\n            cursorGrabbed={cursorGrabbed}\r\n            gameOver={gameOver}\r\n          />\r\n        </div>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// GrabZone (The hover trigger zone)\r\nconst GrabZone = ({ cursorGrabbed, gameOver, onCursorGrabbed }) => {\r\n  const [outerRef, outerHovered] = useHover();\r\n  const [innerRef, innerHovered] = useHover();\r\n  const [isExtended, setExtendedArm] = useState(false);\r\n\r\n  let state = \"waiting\";\r\n  if (outerHovered) {\r\n    state = \"stalking\";\r\n  }\r\n  if (innerHovered) {\r\n    state = \"grabbing\";\r\n  }\r\n  if (cursorGrabbed) {\r\n    state = \"grabbed\";\r\n  }\r\n  if (gameOver) {\r\n    state = \"shaka\"\r\n  }\r\n  \r\n  // If state is grabbing for a long time, they're being clever!\r\n  useEffect(() => {\r\n      let timer;\r\n      if (state === \"grabbing\") {\r\n        timer = setTimeout(() => {\r\n          // Not so clever now, are they?\r\n          setExtendedArm(true);\r\n          timer = null;\r\n        }, 2000);\r\n      }\r\n      return () => {\r\n        setExtendedArm(false);\r\n        if (timer) {\r\n          clearTimeout(timer);\r\n        }\r\n      };\r\n    },\r\n    [state]\r\n  );\r\n\r\n  return (\r\n    <div className=\"grab-zone\" ref={outerRef}>\r\n      <div className=\"grab-zone__debug\">\r\n        <strong>Debug info:</strong>\r\n        <p>Current state: {state}</p>\r\n        <p>Extended arm: {isExtended ? \"Yes\" : \"No\"}</p>\r\n      </div>\r\n      <div className=\"grab-zone__danger\" ref={innerRef}>\r\n        <Grabber\r\n          state={state}\r\n          gameOver={gameOver}\r\n          extended={isExtended}\r\n          onCursorGrabbed={onCursorGrabbed}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Grabber (The graphic)\r\nconst Grabber = ({ state, gameOver, extended, onCursorGrabbed }) => {\r\n  const mousePos = useMousePosition();\r\n  const [ref, position] = usePosition();\r\n  const hasCursor = false;\r\n\r\n  // Calculate rotation of armWrapper\r\n  const x = position.left + position.width * 0.5;\r\n  const y = position.top + position.height * 0.5;\r\n  const angle = gameOver ? 0 : Math.atan2(mousePos.x - x, -(mousePos.y - y)) * (180 / Math.PI);\r\n  \r\n  // Ensure value is within acceptable range (-75 to 75)\r\n  const rotation = Math.min(Math.max(parseInt(angle), -79), 79);\r\n  \r\n  const grabberClass = `grabber grabber--${state} ${extended && \"grabber--extended\"}`;\r\n  const wrapperStyle = { transform: `rotate(${rotation}deg)` };\r\n\r\n  let handImageSrc = ASSETS[state];\r\n\r\n  return (\r\n    <div className={grabberClass}>\r\n      <div className=\"grabber__body\"></div>\r\n      <img className=\"grabber__face\" src={ASSETS.head} />\r\n      <div className=\"grabber__arm-wrapper\" ref={ref} style={wrapperStyle}>\r\n        <div className=\"grabber__arm\">\r\n          <img\r\n            className=\"grabber__hand\"\r\n            src={handImageSrc}\r\n            onMouseEnter={onCursorGrabbed}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Render Main\r\nReactDOM.render(\r\n    <Main />,\r\n    document.getElementById('root'),\r\n)\r\n"]},"metadata":{},"sourceType":"module"}