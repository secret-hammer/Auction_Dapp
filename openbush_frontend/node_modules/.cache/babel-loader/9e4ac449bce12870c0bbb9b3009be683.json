{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Documents/openbush/openbush_frontend/src/Dapp/components/StatusBar.js\";\nimport React from 'react';\nimport 'antd/dist/antd.css';\nimport { PageHeader, Space } from 'antd';\nimport { AccountBookOutlined, AppstoreOutlined, SettingOutlined } from '@ant-design/icons';\nimport { HashRouter, Link } from 'react-router-dom';\nimport web3 from '../utils/InitWeb3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Status extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      isConnected: false,\n      address: 'none',\n      balance: 'none'\n    };\n  }\n\n  async componentDidMount() {\n    let accounts = await web3.eth.getAccounts();\n    let balance;\n\n    if (accounts.length != 0) {\n      web3.eth.getBalance(accounts[0]).then(wei => {\n        balance = web3.utils.fromWei(wei, 'ether');\n      });\n      console.log(balance);\n      this.setState({\n        isConnected: true,\n        address: accounts[0],\n        balance: balance\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(PageHeader, {\n      children: /*#__PURE__*/_jsxDEV(Space, {\n        direction: \"horizontal\",\n        size: 50,\n        children: [/*#__PURE__*/_jsxDEV(\"text\", {\n          children: [\"\\u5F53\\u524D\\u767B\\u9646\\u7528\\u6237: \", this.state.address]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          children: [\"\\u8D26\\u6237\\u4F59\\u989D: \", this.state.balance, \" eth\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/apple/Documents/openbush/openbush_frontend/src/Dapp/components/StatusBar.js"],"names":["React","PageHeader","Space","AccountBookOutlined","AppstoreOutlined","SettingOutlined","HashRouter","Link","web3","Status","Component","state","isConnected","address","balance","componentDidMount","accounts","eth","getAccounts","length","getBalance","then","wei","utils","fromWei","console","log","setState","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,oBAAP;AACA,SAASC,UAAT,EAAqBC,KAArB,QAAiC,MAAjC;AACA,SAASC,mBAAT,EAA8BC,gBAA9B,EAAgDC,eAAhD,QAAuE,mBAAvE;AACA,SAASC,UAAT,EAAqBC,IAArB,QAAiC,kBAAjC;AACA,OAAOC,IAAP,MAAiB,mBAAjB;;AAEA,eAAe,MAAMC,MAAN,SAAqBT,KAAK,CAACU,SAA3B,CAAoC;AAAA;AAAA;AAAA,SAC/CC,KAD+C,GACvC;AACJC,MAAAA,WAAW,EAAE,KADT;AAEJC,MAAAA,OAAO,EAAE,MAFL;AAGJC,MAAAA,OAAO,EAAE;AAHL,KADuC;AAAA;;AAOxB,QAAjBC,iBAAiB,GAAE;AACrB,QAAIC,QAAQ,GAAG,MAAMR,IAAI,CAACS,GAAL,CAASC,WAAT,EAArB;AACA,QAAIJ,OAAJ;;AACA,QAAGE,QAAQ,CAACG,MAAT,IAAmB,CAAtB,EAAwB;AACpBX,MAAAA,IAAI,CAACS,GAAL,CAASG,UAAT,CAAoBJ,QAAQ,CAAC,CAAD,CAA5B,EAAiCK,IAAjC,CACKC,GAAD,IAAS;AACLR,QAAAA,OAAO,GAAGN,IAAI,CAACe,KAAL,CAAWC,OAAX,CAAmBF,GAAnB,EAAwB,OAAxB,CAAV;AACH,OAHL;AAKAG,MAAAA,OAAO,CAACC,GAAR,CAAYZ,OAAZ;AACA,WAAKa,QAAL,CAAc;AACVf,QAAAA,WAAW,EAAE,IADH;AAEVC,QAAAA,OAAO,EAAEG,QAAQ,CAAC,CAAD,CAFP;AAGVF,QAAAA,OAAO,EAAEA;AAHC,OAAd;AAKH;AACJ;;AAEDc,EAAAA,MAAM,GAAE;AACJ,wBACI,QAAC,UAAD;AAAA,6BACI,QAAC,KAAD;AAAO,QAAA,SAAS,EAAC,YAAjB;AAA8B,QAAA,IAAI,EAAE,EAApC;AAAA,gCACI;AAAA,+DAAe,KAAKjB,KAAL,CAAWE,OAA1B;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAA,mDAAa,KAAKF,KAAL,CAAWG,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAQH;;AAlC8C","sourcesContent":["import React from 'react';\nimport 'antd/dist/antd.css';\nimport { PageHeader, Space} from 'antd';\nimport { AccountBookOutlined, AppstoreOutlined, SettingOutlined } from '@ant-design/icons';\nimport { HashRouter, Link } from 'react-router-dom';\nimport web3 from '../utils/InitWeb3';\n\nexport default class Status extends React.Component{\n    state = {\n        isConnected: false,\n        address: 'none',\n        balance: 'none'\n    }\n    \n    async componentDidMount(){\n        let accounts = await web3.eth.getAccounts();\n        let balance;\n        if(accounts.length != 0){\n            web3.eth.getBalance(accounts[0]).then(\n                (wei) => {\n                    balance = web3.utils.fromWei(wei, 'ether')\n                }\n            )\n            console.log(balance); \n            this.setState({\n                isConnected: true,\n                address: accounts[0],\n                balance: balance\n            })\n        }\n    }\n\n    render(){\n        return(\n            <PageHeader>\n                <Space direction=\"horizontal\" size={50}>\n                    <text>当前登陆用户: {this.state.address}</text>\n                    <text>账户余额: {this.state.balance} eth</text>\n                </Space>\n            </PageHeader>      \n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}